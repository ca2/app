// Created by camilo on 2023-04-15 19:17 <3ThomasBorregaardSorensen!!
#include "framework.h"
#include "application.h"
#include "main_window.h"
#include "acme/exception/interface_only.h"
#include "acme/platform/node.h"


namespace operating_system
{


   application::application()
   {

      m_processidentifier = -1;

   }

   
   application::~application()
   {


   }

   
void application::open_by_process_identifier(::process_identifier processidentifier)
{

   m_processidentifier = processidentifier;

}


void application::open_by_module_path(const ::scoped_string & scopedstr)
   {

      throw interface_only();

   }


   void application::open_by_app_id(const ::scoped_string & scopedstrRepos,
                            const ::scoped_string & scopedstrApp)
   {
      
      m_strRepos = scopedstrRepos;
      
      m_strApp = scopedstrApp;
      
   }



   void application::post_close()
   {

      auto pmainwindow = øcreate < ::operating_system::main_window >();

      pmainwindow->from_application(this);

      pmainwindow->post_close();

   }


   void application::post_exit()
   {

      auto pmainwindow = øcreate < ::operating_system::main_window >();

      pmainwindow->from_application(this);

      pmainwindow->post_application_exit();

   }


   ::string application::name()
   {

      auto pathModule = this->module_path();
      
      return pathModule.title();
      
   }


   ::string application::main_window_title()
   {
   
      throw interface_only();
      
      return {};
      
   }

   
   ::collection::count application::window_count() const
   {

      throw interface_only();
      
      return -1;
      
   }


   ::file::path application::module_path()
   {
   
      return node()->process_identifier_module_path(m_processidentifier);
      
   }


} // namespace operating_system



